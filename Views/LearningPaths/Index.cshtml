@model List<LearningPathPreviewViewModel>

@{
    ViewData["Title"] = "index";
}

<div class="container">
    <ul class="cource">
        @foreach (var learningPath in Model)
        {
            var routeValues = new { pathId = learningPath.Id };
            var link = @Url.Action("Details", "LearningPaths", routeValues);

            <li class="preview preview_card">
                <!-- ðŸŒŸ ÐšÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€ Ð¾ÑÐ½Ð¾Ð²Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð°Ð½Ð¸Ñ -->
                <section class="preview__main">
                    <!-- ðŸ· Ð£Ñ€Ð¾Ð²ÐµÐ½ÑŒ ÑÐ»Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸ -->
                    <div class="preview__tag">
                        <span class="preview__tag-danger">1</span>
                        <span>newbie</span>
                    </div>
                    <!-- ðŸ”— Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº Ñ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð¼ Ð½Ð° Ð´Ñ€ÑƒÐ³Ð¾Ð¹ Ñ€ÐµÑÑƒÑ€Ñ -->
                    <h2 class="preview__header">
                        <a href="@link">@learningPath.Title</a>
                    </h2>

                    <p class="preview__description">@learningPath.Description</p>

                    <div class="preview__progress">
                        @{
                            var percentage = @learningPath.StepsProgress.Count * 100 / @learningPath.Steps.Count;
                        }
                        <div class="preview__progress-bar" style="--data-percentage: @percentage%;"></div>
                        <div class="preview__progress-percentage">@percentage% completed</div>
                    </div>
                </section>
                <!-- ðŸŽ¨ ÐœÐµÐ´Ð¸Ð°-ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ ÐºÐ°Ñ€Ñ‚Ð¾Ñ‡ÐºÐ¸ -->
                <a class="preview__aside" href="@link">
                    <img class="preview__media" src="@learningPath.ImageUrl" alt="Learning path image">
                </a>
            </li>
        }
    </ul>
</div>
