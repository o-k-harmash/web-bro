@model List<LearningPathPreviewViewModel>

@{
    ViewData["Title"] = "index";
}

<div class="container">
    <ul class="cource">
        @foreach (var learningPath in Model)
        {
            var routeValues = new { pathId = learningPath.Id };
            var link = @Url.Action("Details", "LearningPaths", routeValues);

            <li class="preview preview_card">
                <!-- 🌟 Контейнер основного содержания -->
                <section class="preview__main">
                    <!-- 🏷 Уровень сложности -->
                    <div class="preview__tag">
                        <span class="preview__tag-danger">1</span>
                        <span>newbie</span>
                    </div>
                    <!-- 🔗 Заголовок с переходом на другой ресурс -->
                    <h2 class="preview__header">
                        <a href="@link">@learningPath.Title</a>
                    </h2>

                    <p class="preview__description">@learningPath.Description</p>

                    <div class="preview__progress">
                        @{
                            var percentage = @learningPath.StepsProgress.Count * 100 / @learningPath.Steps.Count;
                        }
                        <div class="preview__progress-bar" style="--data-percentage: @percentage%;"></div>
                        <div class="preview__progress-percentage">@percentage% completed</div>
                    </div>
                </section>
                <!-- 🎨 Медиа-контент карточки -->
                <a class="preview__aside" href="@link">
                    <img class="preview__media" src="@learningPath.ImageUrl" alt="Learning path image">
                </a>
            </li>
        }
    </ul>
</div>
